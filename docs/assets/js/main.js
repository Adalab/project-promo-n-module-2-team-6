"use strict";const nameEle=document.querySelector(".js_name"),previewNameEle=document.querySelector(".js_namePreview");function handleName(){""===nameEle.value?previewNameEle.innerHTML="Nombre Apellido":previewNameEle.innerHTML=nameEle.value}nameEle.addEventListener("keyup",handleName);const jobEle=document.querySelector(".js_job"),previewJobEle=document.querySelector(".js_jobPreview");function handleJob(){""===jobEle.value?previewJobEle.innerHTML="Front-end Developer":previewJobEle.innerHTML=jobEle.value}jobEle.addEventListener("keyup",handleJob);const emailEle=document.querySelector(".js_email"),emailPreviewEle=document.querySelector(".js_emailPreview");function handleEmail(){emailPreviewEle.href="mailto:"+emailEle.value}emailEle.addEventListener("change",handleEmail);const telEle=document.querySelector(".js_tel"),telPreviewEle=document.querySelector(".js_telPreview");function handleTel(){console.log(telPreviewEle.href=telEle.value),telPreviewEle.href=telEle.value}telEle.addEventListener("change",handleTel);const linkedinEle=document.querySelector(".js_linkedin"),linkedinPreviewEle=document.querySelector(".js_linkedinPreview");function handleLinkedin(){console.log(linkedinPreviewEle.href=linkedinEle.value),linkedinPreviewEle.href=linkedinEle.value}linkedinEle.addEventListener("keyup",handleLinkedin);const githubEle=document.querySelector(".js_github"),githubeviewEle=document.querySelector(".js_githubPreview");function handleGithub(){console.log(githubeviewEle.href=githubEle.value),githubeviewEle.href=githubEle.value}githubEle.addEventListener("keyup",handleGithub);const resetBtn=document.querySelector(".js-reset");function reset(){location.reload()}resetBtn.addEventListener("click",reset);const chevronUp=document.querySelector(".js-chevron"),collapsableSection=document.querySelector(".js-collapsable");function foldAndUnfold(e){e.preventDefault(),console.log(e.target),console.log(e.currentTarget),collapsableSection.classList.toggle("hidden"),chevronUp.classList.toggle("upDown")}chevronUp.addEventListener("click",foldAndUnfold);const chevronUp2=document.querySelector(".js-chevron2"),collapsableSection2=document.querySelector(".js-collapsable2");function foldAndUnfold2(e){e.preventDefault(),collapsableSection2.classList.toggle("hidden"),chevronUp2.classList.toggle("upDown")}chevronUp2.addEventListener("click",foldAndUnfold2);const chevronUp3=document.querySelector(".js-chevron3"),collapsableSection3=document.querySelector(".js-collapsable3");function foldAndUnfold3(e){e.preventDefault(),collapsableSection3.classList.toggle("hidden"),chevronUp3.classList.toggle("upDown")}chevronUp3.addEventListener("click",foldAndUnfold3);const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview"),defaultImg="https://via.placeholder.com/300x300/cccccc/666666/?text=IMAGE";function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t),console.log(t),setLocalStorage()}function writeImage(){data.photo=fr.result,console.log(fr.result),console.log(data.photo),previewImage()}function previewImage(){""===data.photo?profileImage.style.backgroundImage=`url(${defaultImg})`:(profileImage.style.backgroundImage=`url(${data.photo})`,profilePreview.style.backgroundImage=`url(${data.photo})`)}function fakeFileClick(){fileField.click()}fileField.addEventListener("change",getImage);const selectedColour=document.querySelector(".js-form"),edgePreview=document.querySelector(".js-edge");function handleChangeColor(e){const t=e.target.id;"palette1"===t?(edgePreview.classList.remove("palette3"),edgePreview.classList.remove("palette2"),edgePreview.classList.add("palette1")):"palette2"===t?(edgePreview.classList.remove("palette1"),edgePreview.classList.remove("palette3"),edgePreview.classList.add("palette2")):"palette3"===t&&(edgePreview.classList.remove("palette1"),edgePreview.classList.remove("palette2"),edgePreview.classList.add("palette3"))}selectedColour.addEventListener("click",handleChangeColor);let data={palette:"palette1",name:"",job:"",email:"",phone:"",linkedin:"",github:""};const form=document.querySelector(".js-form");function handlerFormData(e){const t=e.target.name,l=e.target.value;data[t]=l}form.addEventListener("change",handlerFormData);const createBtn=document.querySelector(".js-createBtn"),cardResultElement=document.querySelector(".js-url"),cardCreated=document.querySelector(".js-cardCreated");function handleCreateBtn(e){e.preventDefault(),fetch("https://awesome-profile-cards.herokuapp.com/card",{method:"POST",body:JSON.stringify(data),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{cardResultElement.innerHTML=e.cardURL,cardResultElement.href=e.cardURL,e.success&&cardCreated.classList.remove("hidden"),twitterShare()})}function setLocalStorage(){const e=JSON.stringify(data);localStorage.setItem("data",e)}function getLocalStorage(){let e=localStorage.getItem("data");if(null!==e){const t=JSON.parse(e);data=t}}function twitterShare(){const e=document.querySelector(".twitter--button"),t=document.querySelector(".twitter--link"),l=document.querySelector(".created__url");console.log(l),t.setAttribute("href","https://twitter.com/intent/tweet?text="+l.innerText),t.setAttribute("target","blank"),e.addEventListener("click",twitterShare)}createBtn.addEventListener("click",handleCreateBtn),getLocalStorage();